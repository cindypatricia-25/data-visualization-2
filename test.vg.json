{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "data": {
      "url": "time.csv",  
      "format": {
        "type": "csv",
        "parse": {"CrashCount": "number"}
      }
    },
    "transform": [
      {
        "aggregate": [
          {
            "op": "sum",
            "field": "CrashCount",
            "as": "TotalCrashCount"
          }
        ],
        "groupby": ["STATE_NAME", "Dayweek", "time"]
      }
    ],
    "mark": "arc",
    "encoding": {
      "x": {
        "field": "Dayweek",
        "type": "ordinal",
        "title": "Day of the Week"
      },
      "y": {
        "field": "STATE_NAME",
        "type": "ordinal",
        "title": "State"
      },
      "color": {
        "field": "TotalCrashCount",
        "type": "quantitative",
        "scale": {"scheme": "blues"},
        "title": "Total Crash Count"
      }
    }
  }
  